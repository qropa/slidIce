(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();const Pt=!1;var yt=Array.isArray,On=Array.prototype.indexOf,bt=Array.from,In=Object.defineProperty,xe=Object.getOwnPropertyDescriptor,Pn=Object.getOwnPropertyDescriptors,Rn=Object.prototype,Ln=Array.prototype,Vt=Object.getPrototypeOf,Rt=Object.isExtensible;function zn(e){for(var t=0;t<e.length;t++)e[t]()}const J=2,jt=4,Et=8,St=16,de=32,Ce=64,kt=128,G=256,We=512,Q=1024,ve=2048,be=4096,fe=8192,xt=16384,Gt=32768,Dt=65536,Lt=1<<17,Fn=1<<18,Wt=1<<19,pt=1<<20,je=Symbol("$state"),Bn=Symbol("legacy props"),qn=Symbol(""),Kt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Zt(e){return e===this.v}function $n(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Xt(e){return!$n(e,this.v)}function Hn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Yn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Un(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Vn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function jn(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Gn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Wn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Kn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Zn=!1;const Xn=1,Jn=2,Qn=16,er=1,tr=4,nr=8,rr=16,lr=1,ir=2,Y=Symbol(),sr="http://www.w3.org/1999/xhtml";let Z=null;function zt(e){Z=e}function Te(e,t=!1,n){var r=Z={p:Z,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};cn(()=>{r.d=!0})}function Ae(e){const t=Z;if(t!==null){const s=t.e;if(s!==null){var n=A,r=D;t.e=null;try{for(var l=0;l<s.length;l++){var i=s[l];me(i.effect),ae(i.reaction),fn(i.fn)}}finally{me(n),ae(r)}}Z=t.p,t.m=!0}return{}}function Jt(){return!0}function ie(e){if(typeof e!="object"||e===null||je in e)return e;const t=Vt(e);if(t!==Rn&&t!==Ln)return e;var n=new Map,r=yt(e),l=R(0),i=D,s=a=>{var o=D;ae(i);var u=a();return ae(o),u};return r&&n.set("length",R(e.length)),new Proxy(e,{defineProperty(a,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Gn();var d=n.get(o);return d===void 0?d=s(()=>{var c=R(u.value);return n.set(o,c),c}):m(d,u.value,!0),!0},deleteProperty(a,o){var u=n.get(o);if(u===void 0){if(o in a){const f=s(()=>R(Y));n.set(o,f),gt(l)}}else{if(r&&typeof o=="string"){var d=n.get("length"),c=Number(o);Number.isInteger(c)&&c<d.v&&m(d,c)}m(u,Y),gt(l)}return!0},get(a,o,u){if(o===je)return e;var d=n.get(o),c=o in a;if(d===void 0&&(!c||xe(a,o)?.writable)&&(d=s(()=>{var _=ie(c?a[o]:Y),h=R(_);return h}),n.set(o,d)),d!==void 0){var f=v(d);return f===Y?void 0:f}return Reflect.get(a,o,u)},getOwnPropertyDescriptor(a,o){var u=Reflect.getOwnPropertyDescriptor(a,o);if(u&&"value"in u){var d=n.get(o);d&&(u.value=v(d))}else if(u===void 0){var c=n.get(o),f=c?.v;if(c!==void 0&&f!==Y)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(a,o){if(o===je)return!0;var u=n.get(o),d=u!==void 0&&u.v!==Y||Reflect.has(a,o);if(u!==void 0||A!==null&&(!d||xe(a,o)?.writable)){u===void 0&&(u=s(()=>{var f=d?ie(a[o]):Y,_=R(f);return _}),n.set(o,u));var c=v(u);if(c===Y)return!1}return d},set(a,o,u,d){var c=n.get(o),f=o in a;if(r&&o==="length")for(var _=u;_<c.v;_+=1){var h=n.get(_+"");h!==void 0?m(h,Y):_ in a&&(h=s(()=>R(Y)),n.set(_+"",h))}if(c===void 0)(!f||xe(a,o)?.writable)&&(c=s(()=>R(void 0)),m(c,ie(u)),n.set(o,c));else{f=c.v!==Y;var y=s(()=>ie(u));m(c,y)}var b=Reflect.getOwnPropertyDescriptor(a,o);if(b?.set&&b.set.call(d,u),!f){if(r&&typeof o=="string"){var g=n.get("length"),p=Number(o);Number.isInteger(p)&&p>=g.v&&m(g,p+1)}gt(l)}return!0},ownKeys(a){v(l);var o=Reflect.ownKeys(a).filter(c=>{var f=n.get(c);return f===void 0||f.v!==Y});for(var[u,d]of n)d.v!==Y&&!(u in a)&&o.push(u);return o},setPrototypeOf(){Wn()}})}function gt(e,t=1){m(e,e.v+t)}function st(e){var t=J|ve,n=D!==null&&(D.f&J)!==0?D:null;return A===null||n!==null&&(n.f&G)!==0?t|=G:A.f|=Wt,{ctx:Z,deps:null,effects:null,equals:Zt,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??A,ac:null}}function Ue(e){const t=st(e);return mn(t),t}function Qt(e){const t=st(e);return t.equals=Xt,t}function en(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)pe(t[n])}}function ar(e){for(var t=e.parent;t!==null;){if((t.f&J)===0)return t;t=t.parent}return null}function tn(e){var t,n=A;me(ar(e));try{en(e),t=En(e)}finally{me(n)}return t}function nn(e){var t=tn(e);if(e.equals(t)||(e.v=t,e.wv=yn()),!Me){var n=(he||(e.f&G)!==0)&&e.deps!==null?be:Q;oe(e,n)}}const Pe=new Map;function Ke(e,t){var n={f:0,v:e,reactions:null,equals:Zt,rv:0,wv:0};return n}function R(e,t){const n=Ke(e);return mn(n),n}function or(e,t=!1,n=!0){const r=Ke(e);return t||(r.equals=Xt),r}function m(e,t,n=!1){D!==null&&(!le||(D.f&Lt)!==0)&&Jt()&&(D.f&(J|St|Lt))!==0&&!(X?.[1].includes(e)&&X[0]===D)&&Kn();let r=n?ie(t):t;return rn(e,r)}function rn(e,t){if(!e.equals(t)){var n=e.v;Me?Pe.set(e,t):Pe.set(e,n),e.v=t,(e.f&J)!==0&&((e.f&ve)!==0&&tn(e),oe(e,(e.f&G)===0?Q:be)),e.wv=yn(),ln(e,ve),A!==null&&(A.f&Q)!==0&&(A.f&(de|Ce))===0&&(W===null?br([e]):W.push(e))}return t}function Ft(e,t=1){var n=v(e),r=t===1?n++:n--;return m(e,n),r}function ln(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,l=0;l<r;l++){var i=n[l],s=i.f;(s&ve)===0&&(oe(i,t),(s&(Q|G))!==0&&((s&J)!==0?ln(i,be):Mt(i)))}}let ur=!1;var Bt,sn,an,on;function cr(){if(Bt===void 0){Bt=window,sn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;an=xe(t,"firstChild").get,on=xe(t,"nextSibling").get,Rt(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Rt(n)&&(n.__t=void 0)}}function un(e=""){return document.createTextNode(e)}function De(e){return an.call(e)}function at(e){return on.call(e)}function w(e,t){return De(e)}function Ze(e,t){{var n=De(e);return n instanceof Comment&&n.data===""?at(n):n}}function E(e,t=1,n=!1){let r=e;for(;t--;)r=at(r);return r}function fr(e){e.textContent=""}function vr(e){A===null&&D===null&&Un(),D!==null&&(D.f&G)!==0&&A===null&&Yn(),Me&&Hn()}function dr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Le(e,t,n,r=!0){var l=A,i={ctx:Z,deps:null,nodes_start:null,nodes_end:null,f:e|ve,first:null,fn:t,last:null,next:null,parent:l,b:l&&l.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{At(i),i.f|=Gt}catch(o){throw pe(i),o}else t!==null&&Mt(i);var s=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Wt|kt))===0;if(!s&&r&&(l!==null&&dr(i,l),D!==null&&(D.f&J)!==0)){var a=D;(a.effects??=[]).push(i)}return i}function cn(e){const t=Le(Et,null,!1);return oe(t,Q),t.teardown=e,t}function _r(e){vr();var t=A!==null&&(A.f&de)!==0&&Z!==null&&!Z.m;if(t){var n=Z;(n.e??=[]).push({fn:e,effect:A,reaction:D})}else{var r=fn(e);return r}}function gr(e){const t=Le(Ce,e,!0);return(n={})=>new Promise(r=>{n.outro?Xe(t,()=>{pe(t),r(void 0)}):(pe(t),r(void 0))})}function fn(e){return Le(jt,e,!1)}function se(e,t=[],n=st){const r=t.map(n);return Ct(()=>e(...r.map(v)))}function Ct(e,t=0){var n=Le(Et|St|t,e,!0);return n}function Re(e,t=!0){return Le(Et|de,e,!0,t)}function vn(e){var t=e.teardown;if(t!==null){const n=Me,r=D;qt(!0),ae(null);try{t.call(null)}finally{qt(n),ae(r)}}}function dn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){n.ac?.abort(Kt);var r=n.next;(n.f&Ce)!==0?n.parent=null:pe(n,t),n=r}}function hr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&de)===0&&pe(t),t=n}}function pe(e,t=!0){var n=!1;(t||(e.f&Fn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(pr(e.nodes_start,e.nodes_end),n=!0),dn(e,t&&!n),nt(e,0),oe(e,xt);var r=e.transitions;if(r!==null)for(const i of r)i.stop();vn(e);var l=e.parent;l!==null&&l.first!==null&&_n(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function pr(e,t){for(;e!==null;){var n=e===t?null:at(e);e.remove(),e=n}}function _n(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Xe(e,t){var n=[];Tt(e,n,!0),gn(n,()=>{pe(e),t&&t()})}function gn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var l of e)l.out(r)}else t()}function Tt(e,t,n){if((e.f&fe)===0){if(e.f^=fe,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var l=r.next,i=(r.f&Dt)!==0||(r.f&de)!==0;Tt(r,t,i?n:!1),r=l}}}function Je(e){hn(e,!0)}function hn(e,t){if((e.f&fe)!==0){e.f^=fe;for(var n=e.first;n!==null;){var r=n.next,l=(n.f&Dt)!==0||(n.f&de)!==0;hn(n,l?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Qe=[];function mr(){var e=Qe;Qe=[],zn(e)}function wr(e){Qe.length===0&&queueMicrotask(mr),Qe.push(e)}function yr(e){var t=A;if((t.f&Gt)===0){if((t.f&kt)===0)throw e;t.fn(e)}else pn(e,t)}function pn(e,t){for(;t!==null;){if((t.f&kt)!==0)try{t.b.error(e);return}catch{}t=t.parent}throw e}let mt=!1,et=null,ye=!1,Me=!1;function qt(e){Me=e}let Ge=[];let D=null,le=!1;function ae(e){D=e}let A=null;function me(e){A=e}let X=null;function mn(e){D!==null&&D.f&pt&&(X===null?X=[D,[e]]:X[1].push(e))}let $=null,j=0,W=null;function br(e){W=e}let wn=1,tt=0,he=!1;function yn(){return++wn}function ot(e){var t=e.f;if((t&ve)!==0)return!0;if((t&be)!==0){var n=e.deps,r=(t&G)!==0;if(n!==null){var l,i,s=(t&We)!==0,a=r&&A!==null&&!he,o=n.length;if(s||a){var u=e,d=u.parent;for(l=0;l<o;l++)i=n[l],(s||!i?.reactions?.includes(u))&&(i.reactions??=[]).push(u);s&&(u.f^=We),a&&d!==null&&(d.f&G)===0&&(u.f^=G)}for(l=0;l<o;l++)if(i=n[l],ot(i)&&nn(i),i.wv>e.wv)return!0}(!r||A!==null&&!he)&&oe(e,Q)}return!1}function bn(e,t,n=!0){var r=e.reactions;if(r!==null)for(var l=0;l<r.length;l++){var i=r[l];X?.[1].includes(e)&&X[0]===D||((i.f&J)!==0?bn(i,t,!1):t===i&&(n?oe(i,ve):(i.f&Q)!==0&&oe(i,be),Mt(i)))}}function En(e){var t=$,n=j,r=W,l=D,i=he,s=X,a=Z,o=le,u=e.f;$=null,j=0,W=null,he=(u&G)!==0&&(le||!ye||D===null),D=(u&(de|Ce))===0?e:null,X=null,zt(e.ctx),le=!1,tt++,e.f|=pt,e.ac!==null&&(e.ac.abort(Kt),e.ac=null);try{var d=(0,e.fn)(),c=e.deps;if($!==null){var f;if(nt(e,j),c!==null&&j>0)for(c.length=j+$.length,f=0;f<$.length;f++)c[j+f]=$[f];else e.deps=c=$;if(!he||(u&J)!==0&&e.reactions!==null)for(f=j;f<c.length;f++)(c[f].reactions??=[]).push(e)}else c!==null&&j<c.length&&(nt(e,j),c.length=j);if(Jt()&&W!==null&&!le&&c!==null&&(e.f&(J|be|ve))===0)for(f=0;f<W.length;f++)bn(W[f],e);return l!==null&&l!==e&&(tt++,W!==null&&(r===null?r=W:r.push(...W))),d}catch(_){yr(_)}finally{$=t,j=n,W=r,D=l,he=i,X=s,zt(a),le=o,e.f^=pt}}function Er(e,t){let n=t.reactions;if(n!==null){var r=On.call(n,e);if(r!==-1){var l=n.length-1;l===0?n=t.reactions=null:(n[r]=n[l],n.pop())}}n===null&&(t.f&J)!==0&&($===null||!$.includes(t))&&(oe(t,be),(t.f&(G|We))===0&&(t.f^=We),en(t),nt(t,0))}function nt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Er(e,n[r])}function At(e){var t=e.f;if((t&xt)===0){oe(e,Q);var n=A,r=ye;A=e,ye=!0;try{(t&St)!==0?hr(e):dn(e),vn(e);var l=En(e);e.teardown=typeof l=="function"?l:null,e.wv=wn;var i;Pt&&Zn&&(e.f&ve)!==0&&e.deps}finally{ye=r,A=n}}}function Sr(){try{Vn()}catch(e){if(et!==null)pn(e,et);else throw e}}function kr(){var e=ye;try{var t=0;for(ye=!0;Ge.length>0;){t++>1e3&&Sr();var n=Ge,r=n.length;Ge=[];for(var l=0;l<r;l++){var i=Dr(n[l]);xr(i)}Pe.clear()}}finally{mt=!1,ye=e,et=null}}function xr(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];(r.f&(xt|fe))===0&&ot(r)&&(At(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?_n(r):r.fn=null))}}function Mt(e){mt||(mt=!0,queueMicrotask(kr));for(var t=et=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(Ce|de))!==0){if((n&Q)===0)return;t.f^=Q}}Ge.push(t)}function Dr(e){for(var t=[],n=e;n!==null;){var r=n.f,l=(r&(de|Ce))!==0,i=l&&(r&Q)!==0;if(!i&&(r&fe)===0){(r&jt)!==0?t.push(n):l?n.f^=Q:ot(n)&&At(n);var s=n.first;if(s!==null){n=s;continue}}var a=n.parent;for(n=n.next;n===null&&a!==null;)n=a.next,a=a.parent}return t}function v(e){var t=e.f,n=(t&J)!==0;if(D!==null&&!le){if(!X?.[1].includes(e)||X[0]!==D){var r=D.deps;e.rv<tt&&(e.rv=tt,$===null&&r!==null&&r[j]===e?j++:$===null?$=[e]:(!he||!$.includes(e))&&$.push(e))}}else if(n&&e.deps===null&&e.effects===null){var l=e,i=l.parent;i!==null&&(i.f&G)===0&&(l.f^=G)}return n&&(l=e,ot(l)&&nn(l)),Me&&Pe.has(e)?Pe.get(e):e.v}function Cr(e){var t=le;try{return le=!0,e()}finally{le=t}}const Tr=-7169;function oe(e,t){e.f=e.f&Tr|t}const Ar=["touchstart","touchmove"];function Mr(e){return Ar.includes(e)}function Nr(e){var t=D,n=A;ae(null),me(null);try{return e()}finally{ae(t),me(n)}}const Or=new Set,$t=new Set;function Ir(e,t,n,r={}){function l(i){if(r.capture||Oe.call(t,i),!i.cancelBubble)return Nr(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?wr(()=>{t.addEventListener(e,l,r)}):t.addEventListener(e,l,r),l}function L(e,t,n,r,l){var i={capture:r,passive:l},s=Ir(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&cn(()=>{t.removeEventListener(e,s,i)})}function Oe(e){var t=this,n=t.ownerDocument,r=e.type,l=e.composedPath?.()||[],i=l[0]||e.target,s=0,a=e.__root;if(a){var o=l.indexOf(a);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=l.indexOf(t);if(u===-1)return;o<=u&&(s=o)}if(i=l[s]||e.target,i!==t){In(e,"currentTarget",{configurable:!0,get(){return i||n}});var d=D,c=A;ae(null),me(null);try{for(var f,_=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var y=i["__"+r];if(y!=null&&(!i.disabled||e.target===i))if(yt(y)){var[b,...g]=y;b.apply(i,[e,...g])}else y.call(i,e)}catch(p){f?_.push(p):f=p}if(e.cancelBubble||h===t||h===null)break;i=h}if(f){for(let p of _)queueMicrotask(()=>{throw p});throw f}}finally{e.__root=t,delete e.currentTarget,ae(d),me(c)}}}function Sn(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function rt(e,t){var n=A;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function V(e,t){var n=(t&lr)!==0,r=(t&ir)!==0,l,i=!e.startsWith("<!>");return()=>{l===void 0&&(l=Sn(i?e:"<!>"+e),n||(l=De(l)));var s=r||sn?document.importNode(l,!0):l.cloneNode(!0);if(n){var a=De(s),o=s.lastChild;rt(a,o)}else rt(s,s);return s}}function Pr(e,t,n="svg"){var r=!e.startsWith("<!>"),l=`<${n}>${r?e:"<!>"+e}</${n}>`,i;return()=>{if(!i){var s=Sn(l),a=De(s);i=De(a)}var o=i.cloneNode(!0);return rt(o,o),o}}function Nt(e,t){return Pr(e,t,"svg")}function wt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=un();return e.append(t,n),rt(t,n),e}function z(e,t){e!==null&&e.before(t)}function K(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Rr(e,t){return Lr(e,t)}const ke=new Map;function Lr(e,{target:t,anchor:n,props:r={},events:l,context:i,intro:s=!0}){cr();var a=new Set,o=c=>{for(var f=0;f<c.length;f++){var _=c[f];if(!a.has(_)){a.add(_);var h=Mr(_);t.addEventListener(_,Oe,{passive:h});var y=ke.get(_);y===void 0?(document.addEventListener(_,Oe,{passive:h}),ke.set(_,1)):ke.set(_,y+1)}}};o(bt(Or)),$t.add(o);var u=void 0,d=gr(()=>{var c=n??t.appendChild(un());return Re(()=>{if(i){Te({});var f=Z;f.c=i}l&&(r.$$events=l),u=e(c,r)||{},i&&Ae()}),()=>{for(var f of a){t.removeEventListener(f,Oe);var _=ke.get(f);--_===0?(document.removeEventListener(f,Oe),ke.delete(f)):ke.set(f,_)}$t.delete(o),c!==n&&c.parentNode?.removeChild(c)}});return zr.set(u,d),u}let zr=new WeakMap;function ce(e,t,[n,r]=[0,0]){var l=e,i=null,s=null,a=Y,o=n>0?Dt:0,u=!1;const d=(f,_=!0)=>{u=!0,c(_,f)},c=(f,_)=>{a!==(a=f)&&(a?(i?Je(i):_&&(i=Re(()=>_(l))),s&&Xe(s,()=>{s=null})):(s?Je(s):_&&(s=Re(()=>_(l,[n+1,r]))),i&&Xe(i,()=>{i=null})))};Ct(()=>{u=!1,t(d),u||c(null,null)},o)}function lt(e,t){return t}function Fr(e,t,n,r){for(var l=[],i=t.length,s=0;s<i;s++)Tt(t[s].e,l,!0);var a=i>0&&l.length===0&&n!==null;if(a){var o=n.parentNode;fr(o),o.append(n),r.clear(),ge(e,t[0].prev,t[i-1].next)}gn(l,()=>{for(var u=0;u<i;u++){var d=t[u];a||(r.delete(d.k),ge(e,d.prev,d.next)),pe(d.e,!a)}})}function Ie(e,t,n,r,l,i=null){var s=e,a={flags:t,items:new Map,first:null},o=null,u=!1,d=Qt(()=>{var c=n();return yt(c)?c:c==null?[]:bt(c)});Ct(()=>{var c=v(d),f=c.length;u&&f===0||(u=f===0,Br(c,a,s,l,t,r,n),i!==null&&(f===0?o?Je(o):o=Re(()=>i(s)):o!==null&&Xe(o,()=>{o=null})),v(d))})}function Br(e,t,n,r,l,i,s){var a=e.length,o=t.items,u=t.first,d=u,c,f=null,_=[],h=[],y,b,g,p;for(p=0;p<a;p+=1){if(y=e[p],b=i(y,p),g=o.get(b),g===void 0){var T=d?d.e.nodes_start:n;f=$r(T,t,f,f===null?t.first:f.next,y,b,p,r,l,s),o.set(b,f),_=[],h=[],d=f.next;continue}if(qr(g,y,p),(g.e.f&fe)!==0&&Je(g.e),g!==d){if(c!==void 0&&c.has(g)){if(_.length<h.length){var M=h[0],O;f=M.prev;var C=_[0],S=_[_.length-1];for(O=0;O<_.length;O+=1)Ht(_[O],M,n);for(O=0;O<h.length;O+=1)c.delete(h[O]);ge(t,C.prev,S.next),ge(t,f,C),ge(t,S,M),d=M,f=S,p-=1,_=[],h=[]}else c.delete(g),Ht(g,d,n),ge(t,g.prev,g.next),ge(t,g,f===null?t.first:f.next),ge(t,f,g),f=g;continue}for(_=[],h=[];d!==null&&d.k!==b;)(d.e.f&fe)===0&&(c??=new Set).add(d),h.push(d),d=d.next;if(d===null)continue;g=d}_.push(g),f=g,d=g.next}if(d!==null||c!==void 0){for(var k=c===void 0?[]:bt(c);d!==null;)(d.e.f&fe)===0&&k.push(d),d=d.next;var F=k.length;if(F>0){var H=null;Fr(t,k,H,o)}}A.first=t.first&&t.first.e,A.last=f&&f.e}function qr(e,t,n,r){rn(e.v,t),e.i=n}function $r(e,t,n,r,l,i,s,a,o,u){var d=(o&Xn)!==0,c=(o&Qn)===0,f=d?c?or(l,!1,!1):Ke(l):l,_=(o&Jn)===0?s:Ke(s),h={i:_,v:f,k:i,a:null,e:null,prev:n,next:r};try{return h.e=Re(()=>a(e,f,_,u),ur),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function Ht(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,l=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var s=at(i);l.before(i),i=s}}function ge(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const Yt=[...` 	
\r\f \v\uFEFF`];function Hr(e,t,n){var r=e==null?"":""+e;if(n){for(var l in n)if(n[l])r=r?r+" "+l:l;else if(r.length)for(var i=l.length,s=0;(s=r.indexOf(l,s))>=0;){var a=s+i;(s===0||Yt.includes(r[s-1]))&&(a===r.length||Yt.includes(r[a]))?r=(s===0?"":r.substring(0,s))+r.substring(a+1):s=a}}return r===""?null:r}function it(e,t,n,r,l,i){var s=e.__className;if(s!==n||s===void 0){var a=Hr(n,r,i);a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a),e.__className=n}else if(i&&l!==i)for(var o in i){var u=!!i[o];(l==null||u!==!!l[o])&&e.classList.toggle(o,u)}return i}const Yr=Symbol("is custom element"),Ur=Symbol("is html");function I(e,t,n,r){var l=Vr(e);l[t]!==(l[t]=n)&&(t==="loading"&&(e[qn]=n),n==null?e.removeAttribute(t):typeof n!="string"&&jr(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Vr(e){return e.__attributes??={[Yr]:e.nodeName.includes("-"),[Ur]:e.namespaceURI===sr}}var Ut=new Map;function jr(e){var t=Ut.get(e.nodeName);if(t)return t;Ut.set(e.nodeName,t=[]);for(var n,r=e,l=Element.prototype;l!==r;){n=Pn(r);for(var i in n)n[i].set&&t.push(i);r=Vt(r)}return t}let Ve=!1;function Gr(e){var t=Ve;try{return Ve=!1,[e(),Ve]}finally{Ve=t}}function Wr(e){return e.ctx?.d??!1}function U(e,t,n,r){var l=(n&nr)!==0,i=(n&rr)!==0,s=r,a=!0,o=()=>(a&&(a=!1,s=i?Cr(r):r),s),u;if(l){var d=je in e||Bn in e;u=xe(e,t)?.set??(d&&t in e?b=>e[t]=b:void 0)}var c,f=!1;l?[c,f]=Gr(()=>e[t]):c=e[t],c===void 0&&r!==void 0&&(c=o(),u&&(jn(),u(c)));var _;if(_=()=>{var b=e[t];return b===void 0?o():(a=!0,b)},(n&tr)===0)return _;if(u){var h=e.$$legacy;return function(b,g){return arguments.length>0?((!g||h||f)&&u(g?_():b),b):_()}}var y=((n&er)!==0?st:Qt)(_);return l&&v(y),function(b,g){if(arguments.length>0){const p=g?v(y):l?ie(b):b;return m(y,p),s!==void 0&&(s=p),b}return Wr(y)?y.v:v(y)}}const Kr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Kr);var Zr=Nt('<g><rect rx="8" fill="#2196f3" stroke="#1976d2" stroke-width="2"></rect><rect rx="6" fill="#64b5f6" opacity="0.5"></rect></g>');function Xr(e,t){let n=U(t,"x",3,0),r=U(t,"y",3,0),l=U(t,"size",3,48);var i=Zr(),s=w(i),a=E(s);se(()=>{I(i,"transform",`translate(${n()??""}, ${r()??""})`),I(s,"x",-l()/2),I(s,"y",-l()/2),I(s,"width",l()),I(s,"height",l()),I(a,"x",-l()/2+4),I(a,"y",-l()/2+4),I(a,"width",l()-8),I(a,"height",l()-8)}),z(e,i)}const we={normal:{gridSize:7,centerStart:2,centerEnd:4,blockCount:9},hard:{gridSize:8,centerStart:2,centerEnd:5,blockCount:16}};function kn(e,t,n){return e.some(r=>r.row===t&&r.col===n)}function xn(e,t,n){return e.find(r=>r.row===t&&r.col===n)}function Jr(e,t,n="normal"){const r=we[n];return e>=r.centerStart&&e<=r.centerEnd&&t>=r.centerStart&&t<=r.centerEnd}function Qr(e,t="normal"){return e.every(n=>Jr(n.row,n.col,t))}function el(e,t="normal"){const n=we[t];return e.some(r=>r.row<0||r.row>=n.gridSize||r.col<0||r.col>=n.gridSize)}function tl(e,t,n,r){const l=[],[i,s]=r;let a=t,o=n;for(;;){const u=xn(e,a,o);if(!u)break;l.push(u),a+=i,o+=s}return l}function nl(e,t,n,r="normal"){const l=we[r],[i,s]=n,a=[...t].sort((c,f)=>i>0?f.row-c.row:i<0?c.row-f.row:s>0?f.col-c.col:s<0?c.col-f.col:0),o=e.filter(c=>!t.includes(c)),u=new Map;return a.forEach(c=>{let f=c.row,_=c.col;for(;;){const h=f+i,y=_+s;if(h<-1||h>l.gridSize||y<-1||y>l.gridSize)break;const b=o.some(p=>p.row===h&&p.col===y),g=Array.from(u.values()).some(p=>p.row===h&&p.col===y);if(b||g)break;f=h,_=y}u.set(c.id,{row:f,col:_})}),e.map(c=>{if(t.includes(c)){const f=u.get(c.id);return{...c,...f}}return c}).filter(c=>c.row>=-1&&c.row<=l.gridSize&&c.col>=-1&&c.col<=l.gridSize)}function rl(e,t,n="normal"){const r=we[n];return e===-1?[1,0]:e===r.gridSize?[-1,0]:t===-1?[0,1]:t===r.gridSize?[0,-1]:null}function ll(e,t,n="normal"){const r=we[n];return e===-1?[0,t]:e===r.gridSize?[r.gridSize-1,t]:t===-1?[e,0]:t===r.gridSize?[e,r.gridSize-1]:null}var il=Nt('<rect stroke="#90caf9" stroke-width="1"></rect>'),sl=Nt('<svg style="max-width: 100%; height: auto;"><!><rect fill="none" stroke="#2196f3" stroke-width="3" pointer-events="none"></rect><!></svg>');function al(e,t){Te(t,!0);let n=U(t,"blocks",19,()=>[]),r=U(t,"onCellClick",3,()=>{}),l=U(t,"isAnimating",3,!1),i=U(t,"mode",3,"normal"),s=Ue(()=>we[i()]);const a=50;let o=Ue(()=>a*(v(s).gridSize+2));function u(g,p){return(g===-1||g===v(s).gridSize)&&(p===-1||p===v(s).gridSize)}function d(g,p){return u(g,p)?!1:g===-1||g===v(s).gridSize||p===-1||p===v(s).gridSize}function c(g,p){return g>=v(s).centerStart&&g<=v(s).centerEnd&&p>=v(s).centerStart&&p<=v(s).centerEnd}function f(g,p){if(!d(g,p))return!1;let T,M;if(g===-1)T=0,M=p;else if(g===v(s).gridSize)T=v(s).gridSize-1,M=p;else if(p===-1)T=g,M=0;else if(p===v(s).gridSize)T=g,M=v(s).gridSize-1;else return!1;return n().some(O=>O.row===T&&O.col===M)}var _=sl(),h=w(_);Ie(h,17,()=>Array(v(s).gridSize+2),lt,(g,p,T)=>{var M=wt(),O=Ze(M);Ie(O,17,()=>Array(v(s).gridSize+2),lt,(C,S,k,F)=>{var H=wt(),Ee=Ze(H);{var _e=ue=>{var q=il();I(q,"x",k*a),I(q,"y",T*a),I(q,"width",a),I(q,"height",a);let ee;se((ze,ut)=>{I(q,"fill",ze),ee=it(q,0,"svelte-fiv4mx",null,ee,ut)},[()=>c(T-1,k-1)?"#e3f2fd":f(T-1,k-1)?"#bbdefb":d(T-1,k-1)?"#f5f5f5":"#ffffff",()=>({operable:d(T-1,k-1),movable:f(T-1,k-1),clickable:!l()&&d(T-1,k-1)})]),L("click",q,()=>!l()&&d(T-1,k-1)&&r()(T-1,k-1)),z(ue,q)};ce(Ee,ue=>{u(T-1,k-1)||ue(_e)})}z(C,H)}),z(g,M)});var y=E(h),b=E(y);Ie(b,17,n,g=>g.id,(g,p)=>{const T=Ue(()=>(v(p).col+1)*a+a/2),M=Ue(()=>(v(p).row+1)*a+a/2);Xr(g,{get x(){return v(T)},get y(){return v(M)},size:a*.8})}),se(()=>{I(_,"width",v(o)),I(_,"height",v(o)),I(_,"viewBox",`0 0 ${v(o)??""} ${v(o)??""}`),I(y,"x",(v(s).centerStart+1)*a),I(y,"y",(v(s).centerStart+1)*a),I(y,"width",(v(s).centerEnd-v(s).centerStart+1)*a),I(y,"height",(v(s).centerEnd-v(s).centerStart+1)*a)}),z(e,_),Ae()}var ol=V('<div class="weekday-header svelte-1ybf4ct"> </div>'),ul=V("<button> </button>"),cl=V('<div class="calendar svelte-1ybf4ct"><div class="calendar-header svelte-1ybf4ct"><button class="nav-button svelte-1ybf4ct">◀</button> <h3 class="svelte-1ybf4ct"> </h3> <button class="nav-button svelte-1ybf4ct">▶</button></div> <div class="calendar-grid svelte-1ybf4ct"><!> <!></div></div>');function fl(e,t){Te(t,!0);let n=U(t,"selectedDate",23,()=>new Date),r=U(t,"onDateSelect",3,()=>{}),l=R(ie(new Date(n().getFullYear(),n().getMonth())));function i(S){const k=S.getFullYear(),F=S.getMonth(),H=new Date(k,F,1),_e=new Date(k,F+1,0).getDate(),ue=H.getDay(),q=[];for(let ee=0;ee<ue;ee++)q.push(null);for(let ee=1;ee<=_e;ee++)q.push(new Date(k,F,ee));return q}function s(){m(l,new Date(v(l).getFullYear(),v(l).getMonth()-1),!0)}function a(){m(l,new Date(v(l).getFullYear(),v(l).getMonth()+1),!0)}function o(S){S&&S<=new Date&&(n(S),r()(S))}function u(S){if(!S)return!1;const k=new Date;return S.toDateString()===k.toDateString()}function d(S){return S?S.toDateString()===n().toDateString():!1}function c(S){return S?S>new Date:!1}const f=["日","月","火","水","木","金","土"],_=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"];var h=cl(),y=w(h),b=w(y),g=E(b,2),p=w(g),T=E(g,2),M=E(y,2),O=w(M);Ie(O,17,()=>f,lt,(S,k)=>{var F=ol(),H=w(F);se(()=>K(H,v(k))),z(S,F)});var C=E(O,2);Ie(C,17,()=>i(v(l)),lt,(S,k)=>{var F=ul();let H;var Ee=w(F);se((_e,ue,q)=>{H=it(F,1,"day-cell svelte-1ybf4ct",null,H,_e),F.disabled=ue,K(Ee,q)},[()=>({today:u(v(k)),selected:d(v(k)),future:c(v(k)),empty:!v(k)}),()=>!v(k)||c(v(k)),()=>v(k)?v(k).getDate():""]),L("click",F,()=>o(v(k))),z(S,F)}),se((S,k)=>K(p,`${S??""}年 ${k??""}`),[()=>v(l).getFullYear(),()=>_[v(l).getMonth()]]),L("click",b,s),L("click",T,a),z(e,h),Ae()}var vl=V('<div class="mode-selector svelte-1s13eg7"><h2 class="svelte-1s13eg7">ゲームモードを選択</h2> <div class="mode-cards svelte-1s13eg7"><button><div class="mode-title svelte-1s13eg7">Normal</div> <div class="mode-description svelte-1s13eg7"><div class="grid-size svelte-1s13eg7">7×7 グリッド</div> <div class="target svelte-1s13eg7">中央 3×3 に 9個</div> <div class="difficulty svelte-1s13eg7">★★☆☆☆</div></div></button> <button><div class="mode-title svelte-1s13eg7">Hard</div> <div class="mode-description svelte-1s13eg7"><div class="grid-size svelte-1s13eg7">8×8 グリッド</div> <div class="target svelte-1s13eg7">中央 4×4 に 16個</div> <div class="difficulty svelte-1s13eg7">★★★☆☆</div></div></button></div></div>');function dl(e,t){Te(t,!0);let n=U(t,"selectedMode",3,"normal"),r=U(t,"onModeSelect",3,()=>{});var l=vl(),i=E(w(l),2),s=w(i);let a;var o=E(s,2);let u;se((d,c)=>{a=it(s,1,"mode-card svelte-1s13eg7",null,a,d),u=it(o,1,"mode-card svelte-1s13eg7",null,u,c)},[()=>({selected:n()==="normal"}),()=>({selected:n()==="hard"})]),L("click",s,()=>r()("normal")),L("click",o,()=>r()("hard")),z(e,l),Ae()}var _l=V("<strong>7×7のグリッド</strong>で、<strong>中央の3×3エリア</strong>に<strong>9個のブロック</strong>をすべて集めよう！",1),gl=V("<strong>8×8のグリッド</strong>で、<strong>中央の4×4エリア</strong>に<strong>16個のブロック</strong>をすべて集めよう！",1),hl=V('<div class="modal-overlay svelte-i9o885"><div class="modal-content svelte-i9o885"><div class="modal-header svelte-i9o885"><h2 class="svelte-i9o885">🎮 遊び方</h2> <button class="close-button svelte-i9o885">×</button></div> <div class="help-content svelte-i9o885"><div class="section svelte-i9o885"><h3 class="svelte-i9o885">🎯 ゲームの目標</h3> <p class="svelte-i9o885"><!></p></div> <div class="section svelte-i9o885"><h3 class="svelte-i9o885">🖱️ 操作方法</h3> <div class="instruction svelte-i9o885"><div class="instruction-step svelte-i9o885"><span class="step-number svelte-i9o885">1</span> <div class="step-content svelte-i9o885"><strong>外周の青いマス</strong>をクリック<br/> <small class="svelte-i9o885">※ブロックが隣接している外周マスのみ操作可能</small></div></div> <div class="instruction-step svelte-i9o885"><span class="step-number svelte-i9o885">2</span> <div class="step-content svelte-i9o885"><strong>ブロックが滑って移動</strong><br/> <small class="svelte-i9o885">※他のブロックにぶつかるまで直進します</small></div></div> <div class="instruction-step svelte-i9o885"><span class="step-number svelte-i9o885">3</span> <div class="step-content svelte-i9o885"><strong>連続したブロックは一緒に移動</strong><br/> <small class="svelte-i9o885">※隣接するブロックの塊全体が動きます</small></div></div></div></div> <div class="section svelte-i9o885"><h3 class="svelte-i9o885">⚠️ 失敗条件</h3> <p class="svelte-i9o885">ブロックが<strong>盤面外に滑り落ちる</strong>とゲームオーバーです。</p></div> <div class="section svelte-i9o885"><h3 class="svelte-i9o885">💡 コツ</h3> <ul class="svelte-i9o885"><li>ブロックを外周に押し出さないよう注意</li> <li>連続したブロックは一緒に動くことを利用</li> <li>中央に集める順序を考えて操作</li> <li>失敗を恐れずリトライしよう</li></ul></div></div> <div class="modal-footer svelte-i9o885"><button class="primary-button svelte-i9o885">わかった！</button></div></div></div>');function pl(e,t){Te(t,!0);let n=U(t,"isOpen",3,!1),r=U(t,"onClose",3,()=>{}),l=U(t,"mode",3,"normal");function i(u){u.target===u.currentTarget&&r()()}var s=wt(),a=Ze(s);{var o=u=>{var d=hl(),c=w(d),f=w(c),_=E(w(f),2),h=E(f,2),y=w(h),b=E(w(y),2),g=w(b);{var p=C=>{var S=_l();z(C,S)},T=C=>{var S=gl();z(C,S)};ce(g,C=>{l()==="normal"?C(p):C(T,!1)})}var M=E(h,2),O=w(M);L("click",_,function(...C){r()?.apply(this,C)}),L("click",O,function(...C){r()?.apply(this,C)}),L("click",d,i),z(u,d)};ce(a,u=>{n()&&u(o)})}z(e,s),Ae()}function ml(e){let t=e;return function(){return t=(t*1664525+1013904223)%4294967296,t/4294967296}}function wl(e=null){const t=e||new Date,n=`${t.getFullYear()}${String(t.getMonth()+1).padStart(2,"0")}${String(t.getDate()).padStart(2,"0")}`;return parseInt(n)}function yl(e,t){return[[0,1],[0,-1],[1,0],[-1,0]].some(([r,l])=>e.some(i=>i!==t&&i.row===t.row+r&&i.col===t.col+l))}function Dn(e,t,n){const[r,l]=n,i=[];let s=t.row+r,a=t.col+l;for(;kn(e,s,a);)i.push(xn(e,s,a)),s+=r,a+=l;return i}function bl(e,t,n,r="normal"){const l=we[r],[i,s]=n,a=Dn(e,t,n);if(a.length===0)return!1;let o=a[a.length-1].row+i,u=a[a.length-1].col+s;for(;o>=0&&o<l.gridSize&&u>=0&&u<l.gridSize;){if(kn(e,o,u))return!1;o+=i,u+=s}return!0}function ht(e=null,t=null,n="normal"){const r=we[n],l=ml(e||wl(t));let i=[],s=0;for(let c=r.centerStart;c<=r.centerEnd;c++)for(let f=r.centerStart;f<=r.centerEnd;f++)i.push({id:s++,row:c,col:f});const a=n==="hard"?25+Math.floor(l()*20):15+Math.floor(l()*15);let o=0,u=0;const d=2e3;for(;o<a&&u<d;){u++;const c=i.filter(C=>yl(i,C));if(c.length===0)break;const f=c[Math.floor(l()*c.length)],h=[[0,1],[0,-1],[1,0],[-1,0]].filter(C=>bl(i,f,C,n));if(h.length===0)continue;const y=h[Math.floor(l()*h.length)],b=Dn(i,f,y),[g,p]=y;let T,M;g!==0?(T=g>0?r.gridSize-1:0,M=b[0].col):(T=b[0].row,M=p>0?r.gridSize-1:0);const O=g!==0?T-b[b.length-1].row:M-b[b.length-1].col;i=i.map(C=>b.includes(C)?{...C,row:C.row+(g!==0?O:0),col:C.col+(p!==0?O:0)}:C),o++}return console.log(`Generated ${n} puzzle with ${o} reverse operations`),i}var El=V('<div class="mode-screen svelte-166dck0"><!></div>'),Sl=V('<div class="calendar-screen svelte-166dck0"><div class="screen-header svelte-166dck0"><button class="back-button svelte-166dck0">← モード選択に戻る</button> <h2 class="svelte-166dck0"> </h2></div> <!> <p class="calendar-help svelte-166dck0">過去の日付を選択して、その日のパズルをプレイできます。<br/> 未来の日付は選択できません。</p></div>'),kl=V('<button class="svelte-166dck0">リトライ</button>'),xl=V('<div class="game-screen svelte-166dck0"><div class="game-header svelte-166dck0"><div class="header-left svelte-166dck0"><button class="back-button svelte-166dck0">← カレンダーに戻る</button></div> <div class="info svelte-166dck0"><div> </div> <div> </div> <div> </div> <div> </div> <div> </div></div> <div class="header-right svelte-166dck0"><button class="help-button svelte-166dck0">❓ 遊び方</button></div></div> <div class="game-container svelte-166dck0"><!></div> <!></div>'),Dl=V('<div class="modal-overlay svelte-166dck0"><div class="modal-content success svelte-166dck0"><h2 class="svelte-166dck0">🎉 CLEAR! 🎉</h2> <div class="result-stats svelte-166dck0"><div class="stat svelte-166dck0"><span class="stat-label svelte-166dck0">手数</span> <span class="stat-value svelte-166dck0"> </span></div> <div class="stat svelte-166dck0"><span class="stat-label svelte-166dck0">リトライ</span> <span class="stat-value svelte-166dck0"> </span></div> <div class="stat svelte-166dck0"><span class="stat-label svelte-166dck0">時間</span> <span class="stat-value svelte-166dck0"> </span></div></div> <div class="result-buttons svelte-166dck0"><button class="twitter-button svelte-166dck0">🐦 Xでシェア</button> <button class="primary-button svelte-166dck0">もう一度</button> <button class="secondary-button svelte-166dck0">他の日付を選ぶ</button></div></div></div>'),Cl=V('<div class="modal-overlay svelte-166dck0"><div class="modal-content failure svelte-166dck0"><h2 class="svelte-166dck0">😢 FAILED... 😢</h2> <p>ブロックが盤面外に落ちてしまいました</p> <div class="result-buttons svelte-166dck0"><button class="primary-button svelte-166dck0">リトライ</button> <button class="secondary-button svelte-166dck0">他の日付を選ぶ</button></div></div></div>'),Tl=V('<main class="svelte-166dck0"><h1 class="svelte-166dck0">SlidIce</h1> <!> <!> <!></main> <!> <!> <!>',1);function Al(e,t){Te(t,!0);let n=R("mode"),r=R("normal"),l=R(ie(new Date)),i=R(ie([])),s=R(0),a=R(0),o=R(ie(Date.now())),u=R(!1),d=R("playing"),c=R(!1);function f(x,N){if(v(u)||v(d)!=="playing")return;const P=rl(x,N,v(r)),B=ll(x,N,v(r));if(!P||!B)return;const[te,ne]=B,re=tl(v(i),te,ne,P);if(re.length!==0){console.log("Moving blocks:",re.length,"blocks in direction",P),m(u,!0),Ft(s);try{m(i,nl(v(i),re,P,v(r)),!0),console.log("After move:",v(i).length,"blocks remaining")}catch(Se){console.error("Error moving blocks:",Se),m(u,!1);return}setTimeout(()=>{m(u,!1),el(v(i),v(r))?m(d,"lost"):Qr(v(i),v(r))&&m(d,"won")},400)}}function _(x){m(r,x,!0),m(n,"calendar")}function h(x){m(l,x,!0),m(i,ht(null,x,v(r)),!0),m(s,0),m(a,0),m(o,Date.now(),!0),m(d,"playing"),m(u,!1),m(n,"game")}function y(){m(i,ht(null,v(l),v(r)),!0),m(s,0),Ft(a),m(d,"playing"),m(u,!1),m(o,Date.now()-v(S))}function b(){m(i,ht(null,v(l),v(r)),!0),m(s,0),m(a,0),m(d,"playing"),m(u,!1),m(o,Date.now(),!0)}function g(){m(n,"calendar"),m(d,"playing")}function p(){m(n,"mode"),m(d,"playing")}function T(){m(c,!0)}function M(){m(c,!1)}function O(){const x=v(l).toLocaleDateString("en-CA"),N=C(v(S)),P=`⬜⬜🟦⬜ #SlidIce ${x}
⬜🟦🟪⬜ https://qropa.github.io/slidice/
🟦🟪🟦⬜ time: ${N}
⬜⬜⬜⬜ moves: ${v(s)} retries: ${v(a)}`,B=`https://twitter.com/intent/tweet?text=${encodeURIComponent(P)}`;window.open(B,"_blank","width=550,height=420")}function C(x){const N=Math.floor(x/1e3),P=Math.floor(N/60),B=N%60;return`${P}:${B.toString().padStart(2,"0")}`}let S=R(0);_r(()=>{const x=setInterval(()=>{v(d)==="playing"&&m(S,Date.now()-v(o))},100);return()=>clearInterval(x)});var k=Tl(),F=Ze(k),H=E(w(F),2);{var Ee=x=>{var N=El(),P=w(N);dl(P,{get selectedMode(){return v(r)},onModeSelect:_}),z(x,N)};ce(H,x=>{v(n)==="mode"&&x(Ee)})}var _e=E(H,2);{var ue=x=>{var N=Sl(),P=w(N),B=w(P),te=E(B,2),ne=w(te),re=E(P,2);fl(re,{get selectedDate(){return v(l)},onDateSelect:h}),se(()=>K(ne,`${v(r)==="normal"?"Normal":"Hard"} モード - 日付を選択`)),L("click",B,p),z(x,N)};ce(_e,x=>{v(n)==="calendar"&&x(ue)})}var q=E(_e,2);{var ee=x=>{var N=xl(),P=w(N),B=w(P),te=w(B),ne=E(B,2),re=w(ne),Se=w(re),Fe=E(re,2),ct=w(Fe),Be=E(Fe,2),ft=w(Be),qe=E(Be,2),vt=w(qe),$e=E(qe,2),He=w($e),dt=E(ne,2),_t=w(dt),It=E(P,2),An=w(It);al(An,{get blocks(){return v(i)},onCellClick:f,get isAnimating(){return v(u)},get mode(){return v(r)}});var Mn=E(It,2);{var Nn=Ne=>{var Ye=kl();L("click",Ye,y),z(Ne,Ye)};ce(Mn,Ne=>{v(d)==="playing"&&Ne(Nn)})}se((Ne,Ye)=>{K(Se,`モード: ${v(r)==="normal"?"Normal":"Hard"}`),K(ct,`日付: ${Ne??""}`),K(ft,`手数: ${v(s)??""}`),K(vt,`リトライ: ${v(a)??""}`),K(He,`時間: ${Ye??""}`)},[()=>v(l).toLocaleDateString("ja-JP"),()=>C(v(S))]),L("click",te,g),L("click",_t,T),z(x,N)};ce(q,x=>{v(n)==="game"&&x(ee)})}var ze=E(F,2);{var ut=x=>{var N=Dl(),P=w(N),B=E(w(P),2),te=w(B),ne=E(w(te),2),re=w(ne),Se=E(te,2),Fe=E(w(Se),2),ct=w(Fe),Be=E(Se,2),ft=E(w(Be),2),qe=w(ft),vt=E(B,2),$e=w(vt),He=E($e,2),dt=E(He,2);se(_t=>{K(re,v(s)),K(ct,v(a)),K(qe,_t)},[()=>C(v(S))]),L("click",$e,O),L("click",He,b),L("click",dt,g),L("click",N,()=>{}),z(x,N)};ce(ze,x=>{v(d)==="won"&&x(ut)})}var Ot=E(ze,2);{var Cn=x=>{var N=Cl(),P=w(N),B=E(w(P),4),te=w(B),ne=E(te,2);L("click",te,y),L("click",ne,g),L("click",N,()=>{}),z(x,N)};ce(Ot,x=>{v(d)==="lost"&&x(Cn)})}var Tn=E(Ot,2);pl(Tn,{get isOpen(){return v(c)},onClose:M,get mode(){return v(r)}}),z(e,k),Ae()}Rr(Al,{target:document.getElementById("app")});
